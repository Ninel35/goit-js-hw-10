{"mappings":"AACA,MAAMA,EAASC,SAASC,cAAc,iBAChCC,EAAMF,SAASC,cAAc,aAC7BE,EAASH,SAASC,cAAc,WAChCG,EAAYJ,SAASC,cAAc,UACzCG,EAAUC,MAAMC,QAAU,OACzBH,EAAOE,MAAMC,QAAU,OCFbC,MAAM,sCAAoB,CAACC,QAAS,CACzC,YAJU,2EDQXC,MAAKC,IACF,IAAKA,EAAKC,GAEN,MADAP,EAAUC,MAAMC,QAAU,QACpB,IAAIM,MAAMF,EAAKG,QAEzB,OAAOH,EAAKI,MAAM,IAErBL,MAAMM,IAEH,MAAMC,EAAgBD,EAAKE,KAAIC,GAAQ,kBAAkBA,EAAKC,OAAOD,EAAKE,kBAAiBC,KAAK,IAChGtB,EAAOuB,mBAAmB,aAAcN,EAAc,IAEzDO,OAAOC,IACApB,EAAUC,MAAMC,QAAU,QAC1BmB,QAAQC,IAAIF,EAAM,IAG9BzB,EAAO4B,iBAAiB,UACxB,SAAsBC,GAClBzB,EAAOE,MAAMC,QAAU,SCnBKuB,EDoBZD,EAAIE,OAAOC,MCnBpBxB,MAAM,wDAAsCsB,IAAW,CAC1DrB,QAAS,CACL,YAXI,4ED6BPC,MAAKuB,IACF,IAAKA,EAASrB,GAET,MADAP,EAAUC,MAAMC,QAAU,QACpB,IAAIM,MAAMoB,EAASnB,QAG9B,OADAV,EAAOE,MAAMC,QAAU,OAChB0B,EAASlB,MAAM,IAEzBL,MAAMM,IACH,MAAMkB,EAAelB,EAAKE,KAAIC,GACnB,aAAaA,EAAKgB,yBAAyBhB,EAAKiB,OAAO,GAAGf,kEAErEF,EAAKiB,OAAO,GAAGf,oCACHF,EAAKiB,OAAO,GAAGC,6BAC5BlB,EAAKiB,OAAO,GAAGE,0BAEdnC,EAAIoC,UAAYL,CAAY,IAE/BV,OAAM,KACHnB,EAAUC,MAAMC,QAAU,OAAO,ICxCtC,IAAyBuB,C","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nconst select = document.querySelector('.breed-select');\nconst div = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorDisp = document.querySelector('.error');\nerrorDisp.style.display = \"none\";\n loader.style.display = \"none\";\n\nfetchBreeds()\n    .then(resp => {\n        if (!resp.ok) {\n            errorDisp.style.display = \"block\";\n            throw new Error(resp.status);\n        }\n        return resp.json();\n})\n    .then((data) => {\n   \n        const optionsMarkup = data.map(elem => `<option value=\"${elem.id}\">${elem.name}</option>`).join('');\n        select.insertAdjacentHTML(\"afterbegin\", optionsMarkup);\n    })\n    .catch((error) => {\n            errorDisp.style.display = \"block\";\n            console.log(error); \n        });\n\nselect.addEventListener('change', handlerBreed);\nfunction handlerBreed(evt) {\n    loader.style.display = \"block\";\n    fetchCatByBreed(evt.target.value)\n        .then(response => {\n            if (!response.ok) {\n                 errorDisp.style.display = \"block\";\n                 throw new Error(response.status);\n            }\n            loader.style.display = \"none\";\n            return response.json();\n        })\n        .then((data) => {\n            const imagesMarkup = data.map(elem => {\n                return `<img src=\"${elem.url}\" width=\"400\" alt=\"${elem.breeds[0].name}\">\n                <div class=\"cat-container\">\n      <h2>${elem.breeds[0].name}</h2>\n      <p class=\"desc\">${elem.breeds[0].description}</p>\n      <p>${elem.breeds[0].temperament}</p></div>`\n            })\n            div.innerHTML = imagesMarkup;\n        })\n        .catch(() => {\n            errorDisp.style.display = \"block\";\n        });\n}\n\n","const BASE_URL = 'https://api.thecatapi.com/v1/';\nconst API_KEY = 'live_AtqC5ak2YvAECkCQjOLbd6Q4bLX8EUFdbmSDEVyLwx0UqBGo7kwnipnTRQn6FCmX';\n\nexport function fetchBreeds() {\n    return fetch(`${BASE_URL}breeds`,{headers: {\n      'x-api-key': API_KEY\n    }});\n}\n\nexport function fetchCatByBreed(breedId) {\n    return fetch(`${BASE_URL}images/search?breed_ids=${breedId}`, {\n        headers: {\n            'x-api-key': API_KEY\n        }\n    });\n    \n}"],"names":["$1f0dc3b9307be026$var$select","document","querySelector","$1f0dc3b9307be026$var$div","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$errorDisp","style","display","fetch","headers","then","resp","ok","Error","status","json","data","optionsMarkup","map","elem","id","name","join","insertAdjacentHTML","catch","error","console","log","addEventListener","evt","breedId","target","value","response","imagesMarkup","url","breeds","description","temperament","innerHTML"],"version":3,"file":"index.58b4fed6.js.map"}